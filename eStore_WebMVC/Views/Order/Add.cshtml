@addTagHelper *,Microsoft.AspNetCore.Mvc.TagHelpers
@using eStore_WebMVC.Models
@model CreateOrderDto

<h1>Create New Order</h1>
<form asp-action="CreateOrder" asp-controller="Order" method="post">

    <div class="form-group row mt-3">
        <label for="member" class="col-sm-2 col-form-label">Member</label>
        <div class="col-sm-5">

            <select name="memberId" required>

                @foreach (var item in (List<Member>)ViewBag.members)
                {
                    @if (this.Context.Session.GetString("user") != "admin@estore.com")
                    {
                        if (item.Email == this.Context.Session.GetString("user"))
                        {
                            <option value="@item.MemberId" selected>@item.Email</option>
                        }
                    }
                    else
                    {
                        <option value="@item.MemberId">@item.Email</option>
                    }
                }


            </select>



        </div>

    </div>
    <div class="form-group row mt-3">
        <label for="orderDate" class="col-sm-2 col-form-label">OrderDate</label>
        <div class="col-sm-5">
            <input type="date" class="form-control" asp-for="OrderDate" id="orderDate" required>
        </div>
    </div>

    <div class="form-group row mt-3">
        <label for="requiredDate" class="col-sm-2 col-form-label">RequiredDate</label>
        <div class="col-sm-5">
            <input type="date" class="form-control" asp-for="RequiredDate" id="requireDate" required>
        </div>
    </div>
    <div class="form-group row mt-3">
        <label for="shippedDate" class="col-sm-2 col-form-label">ShippedDate</label>
        <div class="col-sm-5">
            <input type="date" class="form-control" asp-for="ShippedDate" id="shippedDate" required>
        </div>
    </div>

    <div class="form-group row mt-3">
        <label for="freight" class="col-sm-2 col-form-label">Freight</label>
        <div class="col-sm-5">
            <input type="number" class="form-control" asp-for="Freight" max="214748364" id="freight" required>
        </div>
    </div>
    <div class="form-group row mt-3">
        <label for="product" class="col-sm-2 col-form-label">Products</label>
        <div class="col-sm-5">

            <select name="productIds" required multiple>

                @foreach (var item in (List<Product>)ViewBag.products)
                {
                    
                        <option value="@item.ProductId">@item.ProductName</option>
                    
                }


            </select>



        </div>

    </div>
    <div class="form-group row mt-3">
        <div class="col-sm-5 offset-sm-2">
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </div>
</form>
